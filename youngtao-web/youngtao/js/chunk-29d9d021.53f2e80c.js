(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29d9d021"],{"8c95":function(t,e,s){"use strict";s.d(e,"a",(function(){return r})),s.d(e,"e",(function(){return n})),s.d(e,"c",(function(){return i})),s.d(e,"d",(function(){return o})),s.d(e,"b",(function(){return c})),s.d(e,"f",(function(){return u}));var a=s("6b02");function r(t){return Object(a["a"])({url:"omc/order/create",method:"post",data:JSON.stringify(t)})}function n(t){return Object(a["a"])({url:"/omc/order/queryStatus",method:"post",data:{id:t}})}function i(t){return Object(a["a"])({url:"omc/order/getUserOrder",method:"post",data:JSON.stringify(t)})}function o(t){return Object(a["a"])({url:"omc/order/orderRefund",method:"post",data:JSON.stringify(t)})}function c(t){return Object(a["a"])({url:"omc/order/delete",method:"post",data:JSON.stringify(t)})}function u(t){return Object(a["a"])({url:"omc/order/recover",method:"post",data:JSON.stringify(t)})}},"8f18":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-5"},[t.orderList.length?s("div",{staticClass:"table-responsive-lg"},[s("table",{staticClass:"table order-table"},[s("thead",{staticClass:"table-head"},[s("tr",[s("th",{attrs:{scope:"col"}},[s("el-select",{attrs:{size:"mini"},on:{change:t.handleChange},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),s("th",{attrs:{scope:"col"}},[t._v("订单详情")]),s("th",{attrs:{scope:"col"}},[t._v("单价")]),s("th",{attrs:{scope:"col"}},[t._v("数量")]),s("th",{attrs:{scope:"col"}},[t._v("操作")]),s("th",{attrs:{scope:"col"}},[t._v("实付款")]),s("th",{attrs:{scope:"col"}},[t._v("状态")]),s("th",{attrs:{scope:"col"}},[t._v("操作")])])]),t._l(t.orderList,(function(e){return s("tbody",{key:e.orderId},[s("div",{staticStyle:{height:"10px"}}),s("tr",{staticClass:"bg-light"},[s("td",{attrs:{colspan:"8"}},[s("span",{staticClass:"mr-3"},[t._v(t._s(e.createTime))]),s("span",[t._v("订单编号："+t._s(e.orderId))]),s("span",{staticClass:"float-right"},[0==e.status||12==e.status||100==e.status?s("el-popconfirm",{attrs:{title:"确认删除订单吗"},on:{onConfirm:function(s){return t.deleteOrder(e.orderId)}}},[s("i",{staticClass:"el-icon-delete pointer",attrs:{slot:"reference"},slot:"reference"})]):t._e()],1)])]),t._l(e.orderItem,(function(a,r){return s("tr",{key:a.skuId},[s("td",{staticClass:"pointer",attrs:{colspan:"2"},on:{click:function(e){return t.$router.push("/market/detail/"+a.spuId)}}},[s("el-col",{attrs:{span:9}},[s("img",{attrs:{src:a.image,alt:"",width:"70"}})]),s("el-col",{attrs:{span:15}},t._l(a.sku,(function(e,a){return s("div",{key:a,staticClass:"item-sku"},[t._v(" "+t._s(a)+"："+t._s(e)+" ")])})),0)],1),s("td",[s("div",[t._v("￥"+t._s(a.price))]),s("div",{staticClass:"text-black-50"},[s("s",[t._v("￥"+t._s(a.oldPrice))])])]),s("td",[t._v(" "+t._s(a.num)+" ")]),0==r?s("td",{attrs:{rowspan:a.length}},[3==e.status?s("div",{staticClass:"pb-1 pointer",on:{click:function(s){return t.orderRefund(e.orderId)}}},[t._v("退款")]):t._e(),s("div",{staticClass:"pb-1 pointer"},[t._v("投诉卖家")])]):t._e(),0==r?s("td",{attrs:{rowspan:a.length}},[s("span",{staticClass:"order-price"},[t._v("￥"+t._s(e.payMoney))])]):t._e(),0==r?s("td",{attrs:{rowspan:a.length}},[s("div",{staticClass:"pb-1 text-primary"},[0==e.status?s("span",[t._v("已完成")]):t._e(),2==e.status?s("span",[t._v("待付款")]):t._e(),3==e.status?s("span",[t._v("待发货")]):t._e(),4==e.status?s("span",[t._v("待收货")]):t._e(),5==e.status?s("span",[t._v("待评价")]):t._e(),12==e.status?s("span",[t._v("已退款")]):t._e(),100==e.status?s("span",[t._v("交易关闭")]):t._e()]),t._m(0,!0),t._m(1,!0)]):t._e(),0==r?s("td",{attrs:{rowspan:a.length}},[2==e.status?s("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(s){return t.$router.push("/order/pay/"+e.paymentId)}}},[t._v("去付款")]):t._e(),3==e.status?s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("提醒发货")]):t._e(),4==e.status?s("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("确认收货")]):t._e(),0==e.status||12==e.status||100==e.status?s("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){return t.$router.push("/market/detail/"+a.spuId)}}},[t._v("再来一单")]):t._e()],1):t._e()])}))],2)}))],2),s("el-pagination",{staticClass:"text-center",attrs:{"current-page":t.pageInfo.pageNum,"page-sizes":[10,20,30,50],"page-size":t.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pageInfo.total},on:{"size-change":t.handleSizeChange,"current-change":t.getUserOrder}})],1):s("div",{staticClass:"text-center pt-5"},[t._v(" 你还没有购买过商品哦~~~ ")])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-1"},[s("a",{attrs:{href:"#"}},[t._v("订单详情")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{attrs:{href:"#"}},[t._v("查看物流")])])}],n=s("d4ec"),i=s("bee2"),o=s("262e"),c=s("2caf"),u=s("9ab4"),l=s("60a3"),d=s("8c95"),p=function(t){Object(o["a"])(s,t);var e=Object(c["a"])(s);function s(){var t;return Object(n["a"])(this,s),t=e.apply(this,arguments),t.options=[{value:"",label:"全部订单"},{value:"0",label:"已完成"},{value:"2",label:"代付款"},{value:"3",label:"代发货"},{value:"12",label:"已退款"},{value:"100",label:"关闭"}],t.pageInfo={size:10},t.selectedStatus="",t.orderList=[],t}return Object(i["a"])(s,[{key:"getUserOrder",value:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageInfo.pageSize;Object(d["c"])({page:t,size:s,status:this.selectedStatus}).then((function(t){e.$log.info("获取用户订单",t),e.pageInfo=t.data,e.orderList=t.data.list}))}},{key:"mounted",value:function(){this.getUserOrder(0,this.pageInfo.size)}},{key:"handleSizeChange",value:function(t){this.getUserOrder(this.pageInfo.pageNum,t)}},{key:"handleChange",value:function(){this.getUserOrder(0,10)}},{key:"orderRefund",value:function(t){var e=this;Object(d["d"])({orderId:t,refundReason:"退款"}).then((function(t){e.$message({type:"success",message:"退款成功"}),e.getUserOrder(e.pageInfo.pageNum,e.pageInfo.size)}))}},{key:"deleteOrder",value:function(t){var e=this;Object(d["b"])({id:t}).then((function(t){e.$log.info("删除订单：",t),e.getUserOrder(e.pageInfo.pageNum,e.pageInfo.size)}))}}]),s}(l["e"]);p=Object(u["a"])([l["a"]],p);var f=p,v=f,_=(s("ff0f"),s("2877")),h=Object(_["a"])(v,a,r,!1,null,"4e95bc3c",null);e["default"]=h.exports},cbd8:function(t,e,s){},ff0f:function(t,e,s){"use strict";var a=s("cbd8"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-29d9d021.53f2e80c.js.map